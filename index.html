<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0d0f24;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background: #14172e;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      width: 350px;
      text-align: center;
    }

    h2 {
      margin-bottom: 20px;
      color: #fff;
    }

    .input-group {
      position: relative;
      margin-bottom: 15px;
    }

    input {
      width: 100%;
      padding: 10px 40px 10px 10px;
      border-radius: 8px;
      border: none;
      outline: none;
      background: #1e223d;
      color: #fff;
      font-size: 14px;
    }

    .toggle-visibility {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 18px;
      color: #bbb;
    }

    .strength-bar {
      height: 8px;
      background: #333;
      border-radius: 5px;
      margin: 10px 0;
      overflow: hidden;
    }

    .strength-bar-fill {
      height: 100%;
      width: 0;
      background: red;
      transition: width 0.4s;
    }

    ul {
      list-style: none;
      padding: 0;
      text-align: left;
      margin: 15px 0;
    }

    ul li {
      margin: 6px 0;
      font-size: 14px;
    }

    ul li.valid {
      color: #00ffae;
    }

    ul li.invalid {
      color: #ff5c5c;
    }

    .suggest-box {
      margin-top: 20px;
      background: #1e223d;
      padding: 12px;
      border-radius: 8px;
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    .suggest-box.show {
      display: block;
      opacity: 1;
    }

    button {
      margin-top: 10px;
      padding: 10px 15px;
      background: #2563eb;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #1d4ed8;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Password Checker</h2>

    <!-- Name input -->
    <div class="input-group">
      <input type="text" id="name" placeholder="Enter your name">
    </div>

    <!-- Year input -->
    <div class="input-group">
      <input type="text" id="year" maxlength="4" placeholder="Enter birth year">
    </div>

    <!-- Password input -->
    <div class="input-group">
      <input type="password" id="password" placeholder="Enter password">
      <span class="toggle-visibility" id="togglePassword">üëÅ</span>
    </div>

    <!-- Strength bar -->
    <div class="strength-bar">
      <div class="strength-bar-fill" id="strengthFill"></div>
    </div>

    <!-- Rules -->
    <ul>
      <li id="length" class="invalid">At least 8 characters</li>
      <li id="upper" class="invalid">Uppercase letter</li>
      <li id="lower" class="invalid">Lowercase letter</li>
      <li id="number" class="invalid">Number</li>
      <li id="special" class="invalid">Special character</li>
      <li id="personal" class="invalid">No personal info</li>
    </ul>

    <!-- Suggest box -->
    <div class="suggest-box" id="suggestBox">
      <strong>Suggested Strong Passwords:</strong>
      <div id="suggestions"></div>
      <button id="generateBtn">Generate New</button>
    </div>
  </div>

  <script>
    const nameInput = document.getElementById("name");
    const yearInput = document.getElementById("year");
    const passwordInput = document.getElementById("password");
    const togglePassword = document.getElementById("togglePassword");
    const strengthFill = document.getElementById("strengthFill");
    const suggestBox = document.getElementById("suggestBox");
    const suggestions = document.getElementById("suggestions");
    const generateBtn = document.getElementById("generateBtn");

    // Prevent numbers in name
    nameInput.addEventListener("input", (e) => {
      e.target.value = e.target.value.replace(/[0-9]/g, "");
    });

    // Force year to 4 digits only
    yearInput.addEventListener("input", (e) => {
      e.target.value = e.target.value.replace(/\D/g, "");
      if (e.target.value.length > 4) {
        e.target.value = e.target.value.slice(0, 4);
      }
    });

    // Toggle password visibility
    togglePassword.addEventListener("click", () => {
      const type = passwordInput.getAttribute("type") === "password" ? "text" : "password";
      passwordInput.setAttribute("type", type);
    });

    // Check password
    passwordInput.addEventListener("input", checkPassword);
    generateBtn.addEventListener("click", generatePassword);

    function checkPassword() {
      const val = passwordInput.value;
      const name = nameInput.value.trim().toLowerCase();
      const year = yearInput.value.trim();

      let score = 0;

      // Rules
      const rules = {
        length: val.length >= 8,
        upper: /[A-Z]/.test(val),
        lower: /[a-z]/.test(val),
        number: /[0-9]/.test(val),
        special: /[^A-Za-z0-9]/.test(val),
        personal: !(name && val.toLowerCase().includes(name)) && !(year && val.includes(year))
      };

      for (const rule in rules) {
        document.getElementById(rule).className = rules[rule] ? "valid" : "invalid";
        if (rules[rule]) score++;
      }

      // Strength bar
      const percent = (score / 6) * 100;
      strengthFill.style.width = percent + "%";
      strengthFill.style.background = percent < 50 ? "red" : percent < 80 ? "orange" : "limegreen";

      // Suggest box
      if (score < 6) {
        suggestBox.classList.add("show");
        generatePassword();
      } else {
        suggestBox.classList.remove("show");
      }
    }

    // Generate random strong password
    function generatePassword() {
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+";
      let pass = "";
      for (let i = 0; i < 12; i++) {
        pass += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      suggestions.innerText = pass;
    }
  </script>
</body>
</html>
